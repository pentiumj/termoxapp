
$(document).ready(function(){function c(g){var f=g.getDay()||7;if(f!==1){g.setHours(-24*(f-1))}return g}function b(g){var f=(g.getDay()-6)||7;if(f!==1){g.setHours(-24*(f-1))}return g}$("#two-inputs2").hide();function a(g,f){$("#two-inputs").show();$("#inicio").val(g);$("#fin").val(f);$("#two-inputs").click();$("#two-inputs").hide();$("#inicio2").val(g);$("#fin2").val(f)}function d(g){var f=g.getDate();var h=g.getMonth()+1;var i=g.getFullYear();if(f<10){f="0"+f}if(h<10){h="0"+h}g=i+"-"+h+"-"+f;return g}$("#sel-periodo").change(function(){if(($("#sel-periodo").val())!=0){$("#two-inputs").hide();$("#two-inputs2").show();$("#inicio2").prop("disabled",true);$("#fin2").prop("disabled",true);var g=$("#sel-periodo").val();var f=new Date();switch(g){case"1":f=d(f);a(f,f);break;case"2":ayer=new Date(f.getTime()-24*60*60*1000);ayer=d(ayer);a(ayer,ayer);break;case"3":pasadaI=new Date(f.getTime()-(24*60*60*1000)*7);pasadaF=new Date(f.getTime()-(24*60*60*1000)*7);f_inicio=c(pasadaI);f_fin=b(pasadaF);f_inicio=d(f_inicio);f_fin=d(f_fin);a(f_inicio,f_fin);break;case"4":f.setMonth(f.getMonth()-1);f_inicio=new Date(f.getFullYear(),f.getMonth(),1);f_fin=new Date(f.getFullYear(),f.getMonth()+1,0);f_inicio=d(f_inicio);f_fin=d(f_fin);a(f_inicio,f_fin);break;case"5":f_inicio=new Date(f.getTime()-(24*60*60*1000)*30);f_fin=new Date(f.getTime()-24*60*60*1000);f_inicio=d(f_inicio);f_fin=d(f_fin);a(f_inicio,f_fin);break;case"6":f_inicio=new Date(f.getTime()-(24*60*60*1000)*7);f_fin=new Date(f.getTime()-24*60*60*1000);f_inicio=d(f_inicio);f_fin=d(f_fin);a(f_inicio,f_fin);break}}else{$("#inicio").prop("disabled",false);$("#fin").prop("disabled",false);$("#two-inputs2").hide();$("#two-inputs").show()}});$("#btn-rep").hide();$("#two-inputs").dateRangePicker({separator:" hasta ",getValue:function(){if($("#inicio").val()&&$("#fin").val()){return $("#inicio").val()+" hasta "+$("#fin").val()}else{return""}},setValue:function(h,g,f){$("#inicio").val(g);inicio=g;$("#fin").val(f);fin=f;e();$("#btn-rep").show()}});function e(){$.ajax({data:$("#frmFecha").serialize(),url:"datosTabla.php",type:"post",beforeSend:function(){$("#div-tabla").html("Enviando, espere por favor...")},success:function(f){$("#div-tabla").html(f)}})}});